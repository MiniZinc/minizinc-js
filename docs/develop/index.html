<!DOCTYPE html><html class="default" lang="en"><head><meta charset="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>MiniZinc JavaScript</title><meta name="description" content="Documentation for MiniZinc JavaScript"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="assets/style.css"/><link rel="stylesheet" href="assets/highlight.css"/><script defer src="assets/main.js"></script><script async src="assets/icons.js" id="tsd-icons-script"></script><script async src="assets/search.js" id="tsd-search-script"></script><script async src="assets/navigation.js" id="tsd-nav-script"></script><script src="../../versions.js"></script><link rel="icon" type="image/png" href="../../minizinc.png" /></head><body><script>document.documentElement.dataset.theme = localStorage.getItem("tsd-theme") || "os";document.body.style.display="none";setTimeout(() => app?app.showPage():document.body.style.removeProperty("display"),500)</script><header class="tsd-page-toolbar"><div class="tsd-toolbar-contents container"><div class="table-cell" id="tsd-search" data-base="."><div class="field"><label for="tsd-search-field" class="tsd-widget tsd-toolbar-icon search no-caption"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><use href="assets/icons.svg#icon-search"></use></svg></label><input type="text" id="tsd-search-field" aria-label="Search"/></div><div class="field"><div id="tsd-toolbar-links"><a href="https://minizinc.dev">MiniZinc</a><a href="https://github.com/minizinc/minizinc-js">GitHub</a></div></div><ul class="results"><li class="state loading">Preparing search index...</li><li class="state failure">The search index is not available</li></ul><a href="index.html" class="title">MiniZinc JavaScript</a></div><div class="table-cell" id="tsd-widgets"><a href="#" class="tsd-widget tsd-toolbar-icon menu no-caption" data-toggle="menu" aria-label="Menu"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><use href="assets/icons.svg#icon-menu"></use></svg></a></div></div></header><div class="container container-main"><div class="col-content"><div class="tsd-page-title"><h2>MiniZinc JavaScript</h2></div><div class="tsd-panel tsd-typography"><a id="md:javascript-interface-for-minizinc" class="tsd-anchor"></a><h1 class="tsd-anchor-link">JavaScript interface for MiniZinc<a href="#md:javascript-interface-for-minizinc" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h1><p><a href="https://js.minizinc.dev/docs/stable" target="_blank" class="external"><img src="https://img.shields.io/badge/docs-latest-blue" alt="Latest documentation"></a>
<a href="https://www.npmjs.com/package/minizinc" target="_blank" class="external"><img src="https://img.shields.io/npm/v/minizinc/latest?color=blue" alt="Latest package"></a>
<a href="https://js.minizinc.dev/docs/develop" target="_blank" class="external"><img src="https://img.shields.io/badge/docs-edge-orange" alt="Edge documentation"></a>
<a href="https://www.npmjs.com/package/minizinc" target="_blank" class="external"><img src="https://img.shields.io/npm/v/minizinc/edge?color=orange" alt="Edge package"></a></p>
<p>This package provides a JavaScript API for <a href="https://minizinc.dev" target="_blank" class="external">MiniZinc</a>
for use in web browsers using WebAssembly, or in NodeJS using a native
installation of MiniZinc.</p>
<p>This library powers the <a href="https://minizinc.dev/solve" target="_blank" class="external">MiniZinc Playground</a>.</p>
<a id="md:getting-started" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Getting started<a href="#md:getting-started" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><a id="md:using-a-cdn-recommended" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Using a CDN (recommended)<a href="#md:using-a-cdn-recommended" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Using ECMAScript modules:</p>
<pre><code class="html"><span class="hl-0">&lt;</span><span class="hl-1">script</span><span class="hl-2"> </span><span class="hl-3">type</span><span class="hl-2">=</span><span class="hl-4">&quot;module&quot;</span><span class="hl-0">&gt;</span><br/><span class="hl-2">  </span><span class="hl-5">import</span><span class="hl-2"> { </span><span class="hl-6">Model</span><span class="hl-2"> } </span><span class="hl-5">from</span><span class="hl-2"> </span><span class="hl-7">&#39;https://cdn.jsdelivr.net/npm/minizinc@edge/dist/minizinc.mjs&#39;</span><span class="hl-2">;</span><br/><span class="hl-2">  </span><span class="hl-8">const</span><span class="hl-2"> </span><span class="hl-9">model</span><span class="hl-2"> </span><span class="hl-10">=</span><span class="hl-2"> </span><span class="hl-8">new</span><span class="hl-2"> </span><span class="hl-11">Model</span><span class="hl-2">();</span><br/><span class="hl-2">  </span><span class="hl-6">model</span><span class="hl-2">.</span><span class="hl-11">addFile</span><span class="hl-2">(</span><span class="hl-7">&#39;test.mzn&#39;</span><span class="hl-2">, </span><span class="hl-7">&#39;var 1..3: x;&#39;</span><span class="hl-2">);</span><br/><span class="hl-2">  </span><span class="hl-8">const</span><span class="hl-2"> </span><span class="hl-9">solve</span><span class="hl-2"> </span><span class="hl-10">=</span><span class="hl-2"> </span><span class="hl-6">model</span><span class="hl-2">.</span><span class="hl-11">solve</span><span class="hl-2">({</span><br/><span class="hl-2">    </span><span class="hl-6">options:</span><span class="hl-2"> {</span><br/><span class="hl-2">      </span><span class="hl-6">solver:</span><span class="hl-2"> </span><span class="hl-7">&#39;gecode&#39;</span><span class="hl-2">,</span><br/><span class="hl-2">      </span><span class="hl-7">&#39;all-solutions&#39;</span><span class="hl-6">:</span><span class="hl-2"> </span><span class="hl-8">true</span><br/><span class="hl-2">    }</span><br/><span class="hl-2">  });</span><br/><span class="hl-2">  </span><span class="hl-6">solve</span><span class="hl-2">.</span><span class="hl-11">on</span><span class="hl-2">(</span><span class="hl-7">&#39;solution&#39;</span><span class="hl-2">, </span><span class="hl-6">solution</span><span class="hl-2"> </span><span class="hl-8">=&gt;</span><span class="hl-2"> {</span><br/><span class="hl-2">    </span><span class="hl-6">console</span><span class="hl-2">.</span><span class="hl-11">log</span><span class="hl-2">(</span><span class="hl-6">solution</span><span class="hl-2">.</span><span class="hl-6">output</span><span class="hl-2">.</span><span class="hl-6">json</span><span class="hl-2">);</span><br/><span class="hl-2">  });</span><br/><span class="hl-2">  </span><span class="hl-6">solve</span><span class="hl-2">.</span><span class="hl-11">then</span><span class="hl-2">(</span><span class="hl-6">result</span><span class="hl-2"> </span><span class="hl-8">=&gt;</span><span class="hl-2"> {</span><br/><span class="hl-2">    </span><span class="hl-6">console</span><span class="hl-2">.</span><span class="hl-11">log</span><span class="hl-2">(</span><span class="hl-6">result</span><span class="hl-2">.</span><span class="hl-6">status</span><span class="hl-2">);</span><br/><span class="hl-2">  });</span><br/><span class="hl-0">&lt;/</span><span class="hl-1">script</span><span class="hl-0">&gt;</span>
</code><button type="button">Copy</button></pre>

<p>Using a traditional script:</p>
<pre><code class="html"><span class="hl-0">&lt;</span><span class="hl-1">script</span><span class="hl-2"> </span><span class="hl-3">src</span><span class="hl-2">=</span><span class="hl-4">&quot;https://cdn.jsdelivr.net/npm/minizinc@edge/dist/minizinc.js&quot;</span><span class="hl-0">&gt;&lt;/</span><span class="hl-1">script</span><span class="hl-0">&gt;</span><br/><span class="hl-0">&lt;</span><span class="hl-1">script</span><span class="hl-0">&gt;</span><br/><span class="hl-2">  </span><span class="hl-8">const</span><span class="hl-2"> </span><span class="hl-9">model</span><span class="hl-2"> </span><span class="hl-10">=</span><span class="hl-2"> </span><span class="hl-8">new</span><span class="hl-2"> </span><span class="hl-6">MiniZinc</span><span class="hl-2">.</span><span class="hl-11">Model</span><span class="hl-2">();</span><br/><span class="hl-2">  </span><span class="hl-6">model</span><span class="hl-2">.</span><span class="hl-11">addFile</span><span class="hl-2">(</span><span class="hl-7">&#39;test.mzn&#39;</span><span class="hl-2">, </span><span class="hl-7">&#39;var 1..3: x;&#39;</span><span class="hl-2">);</span><br/><span class="hl-2">  </span><span class="hl-8">const</span><span class="hl-2"> </span><span class="hl-9">solve</span><span class="hl-2"> </span><span class="hl-10">=</span><span class="hl-2"> </span><span class="hl-6">model</span><span class="hl-2">.</span><span class="hl-11">solve</span><span class="hl-2">({</span><br/><span class="hl-2">    </span><span class="hl-6">options:</span><span class="hl-2"> {</span><br/><span class="hl-2">      </span><span class="hl-6">solver:</span><span class="hl-2"> </span><span class="hl-7">&#39;gecode&#39;</span><span class="hl-2">,</span><br/><span class="hl-2">      </span><span class="hl-7">&#39;all-solutions&#39;</span><span class="hl-6">:</span><span class="hl-2"> </span><span class="hl-8">true</span><br/><span class="hl-2">    }</span><br/><span class="hl-2">  });</span><br/><span class="hl-2">  </span><span class="hl-6">solve</span><span class="hl-2">.</span><span class="hl-11">on</span><span class="hl-2">(</span><span class="hl-7">&#39;solution&#39;</span><span class="hl-2">, </span><span class="hl-6">solution</span><span class="hl-2"> </span><span class="hl-8">=&gt;</span><span class="hl-2"> {</span><br/><span class="hl-2">    </span><span class="hl-6">console</span><span class="hl-2">.</span><span class="hl-11">log</span><span class="hl-2">(</span><span class="hl-6">solution</span><span class="hl-2">.</span><span class="hl-6">output</span><span class="hl-2">.</span><span class="hl-6">json</span><span class="hl-2">);</span><br/><span class="hl-2">  });</span><br/><span class="hl-2">  </span><span class="hl-6">solve</span><span class="hl-2">.</span><span class="hl-11">then</span><span class="hl-2">(</span><span class="hl-6">result</span><span class="hl-2"> </span><span class="hl-8">=&gt;</span><span class="hl-2"> {</span><br/><span class="hl-2">    </span><span class="hl-6">console</span><span class="hl-2">.</span><span class="hl-11">log</span><span class="hl-2">(</span><span class="hl-6">result</span><span class="hl-2">.</span><span class="hl-6">status</span><span class="hl-2">);</span><br/><span class="hl-2">  });</span><br/><span class="hl-0">&lt;/</span><span class="hl-1">script</span><span class="hl-0">&gt;</span>
</code><button type="button">Copy</button></pre>

<a id="md:self-hosting-webassembly-files" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Self-hosting WebAssembly files<a href="#md:self-hosting-webassembly-files" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>If you're using a bundler, you can add the library to your project:</p>
<pre><code class="sh"><span class="hl-11">npm</span><span class="hl-10"> </span><span class="hl-7">install</span><span class="hl-10"> </span><span class="hl-7">minizinc</span>
</code><button type="button">Copy</button></pre>

<p>Then import it with:</p>
<pre><code class="js"><span class="hl-5">import</span><span class="hl-10"> </span><span class="hl-8">*</span><span class="hl-10"> </span><span class="hl-5">as</span><span class="hl-10"> </span><span class="hl-6">MiniZinc</span><span class="hl-10"> </span><span class="hl-5">from</span><span class="hl-10"> </span><span class="hl-7">&#39;minizinc&#39;</span><span class="hl-10">;</span>
</code><button type="button">Copy</button></pre>

<p>These three files need to be served by your webserver (found in <code>node_modules/minizinc/dist</code>):</p>
<ul>
<li><code>minizinc-worker.js</code></li>
<li><code>minizinc.wasm</code></li>
<li><code>minizinc.data</code></li>
</ul>
<p>If you place them alongside your bundled script, they should be found automatically.
Otherwise, their URLs can be specified during <a href="#md:initialisation">initialisation</a>.</p>
<a id="md:in-nodejs" class="tsd-anchor"></a><h3 class="tsd-anchor-link">In NodeJS<a href="#md:in-nodejs" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>This requires an existing <a href="https://github.com/MiniZinc/MiniZincIDE/releases" target="_blank" class="external">installation of MiniZinc</a>.</p>
<p>Add the library with:</p>
<pre><code class="sh"><span class="hl-11">npm</span><span class="hl-10"> </span><span class="hl-7">install</span><span class="hl-10"> </span><span class="hl-7">minizinc</span>
</code><button type="button">Copy</button></pre>

<p>Then import it with:</p>
<pre><code class="js"><span class="hl-12">// If using ESM</span><br/><span class="hl-5">import</span><span class="hl-10"> </span><span class="hl-8">*</span><span class="hl-10"> </span><span class="hl-5">as</span><span class="hl-10"> </span><span class="hl-6">MiniZinc</span><span class="hl-10"> </span><span class="hl-5">from</span><span class="hl-10"> </span><span class="hl-7">&#39;minizinc&#39;</span><span class="hl-10">;</span><br/><span class="hl-12">// If using CommonJS</span><br/><span class="hl-8">const</span><span class="hl-10"> </span><span class="hl-9">MiniZinc</span><span class="hl-10"> = </span><span class="hl-11">require</span><span class="hl-10">(</span><span class="hl-7">&#39;minizinc&#39;</span><span class="hl-10">);</span>
</code><button type="button">Copy</button></pre>

<p>If you have added MiniZinc to your <code>PATH</code>, it will be found automatically.
Otherwise, you can specify the executable path during <a href="#md:initialisation">initialisation</a>.</p>
<a id="md:usage" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Usage<a href="#md:usage" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><a id="md:initialisation" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Initialisation<a href="#md:initialisation" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Initialisation happens automatically when the library is used, or by calling
<a href="https://js.minizinc.dev/docs/develop/functions/init.html" target="_blank" class="external"><code>init(...)</code></a>. This can be used to ensure
that the WebAssembly files start loading immediately, or to specify a different URL for the worker
(or path to the MiniZinc executable if using NodeJS).</p>
<p>In the browser:</p>
<pre><code class="js"><span class="hl-6">MiniZinc</span><span class="hl-10">.</span><span class="hl-11">init</span><span class="hl-10">({</span><br/><span class="hl-10">  </span><span class="hl-12">// If omitted, searches for minizinc-worker.js next to the minizinc library script</span><br/><span class="hl-10">  </span><span class="hl-6">workerURL:</span><span class="hl-10"> </span><span class="hl-7">&#39;http://localhost:3000/path/to/my-own-worker.js&#39;</span><span class="hl-10">,</span><br/><span class="hl-10">  </span><span class="hl-12">// If these are omitted, searches next to the worker script</span><br/><span class="hl-10">  </span><span class="hl-6">wasmURL:</span><span class="hl-10"> </span><span class="hl-7">&#39;http://localhost:3000/path/to/minizinc.wasm&#39;</span><span class="hl-10">,</span><br/><span class="hl-10">  </span><span class="hl-6">dataURL:</span><span class="hl-10"> </span><span class="hl-7">&#39;http://localhost:3000/path/to/minizinc.data&#39;</span><br/><span class="hl-10">}).</span><span class="hl-11">then</span><span class="hl-10">(() </span><span class="hl-8">=&gt;</span><span class="hl-10"> {</span><br/><span class="hl-10">  </span><span class="hl-6">console</span><span class="hl-10">.</span><span class="hl-11">log</span><span class="hl-10">(</span><span class="hl-7">&#39;Ready&#39;</span><span class="hl-10">);</span><br/><span class="hl-10">});</span>
</code><button type="button">Copy</button></pre>

<p>In NodeJS:</p>
<pre><code class="js"><span class="hl-6">MiniZinc</span><span class="hl-10">.</span><span class="hl-11">init</span><span class="hl-10">({</span><br/><span class="hl-10">  </span><span class="hl-12">// Executable name</span><br/><span class="hl-10">  </span><span class="hl-6">minizinc:</span><span class="hl-10"> </span><span class="hl-7">&#39;minizinc&#39;</span><span class="hl-10">,</span><br/><span class="hl-10">  </span><span class="hl-12">// Search paths (can omit to use PATH)</span><br/><span class="hl-10">  </span><span class="hl-6">minizincPaths:</span><span class="hl-10"> [</span><span class="hl-7">&#39;/home/me/.local/bin&#39;</span><span class="hl-10">, </span><span class="hl-7">&#39;/usr/local/bin&#39;</span><span class="hl-10">]</span><br/><span class="hl-10">});</span>
</code><button type="button">Copy</button></pre>

<p>By default, the NodeJS version tries to find MiniZinc on your <code>PATH</code>.</p>
<a id="md:creating-models" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Creating Models<a href="#md:creating-models" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>The main entrypoint for using the library is through the
<a href="https://js.minizinc.dev/docs/develop/classes/Model.html" target="_blank" class="external"><code>Model</code></a> class:</p>
<pre><code class="js"><span class="hl-8">const</span><span class="hl-10"> </span><span class="hl-9">model</span><span class="hl-10"> = </span><span class="hl-8">new</span><span class="hl-10"> </span><span class="hl-6">MiniZinc</span><span class="hl-10">.</span><span class="hl-11">Model</span><span class="hl-10">();</span><br/><span class="hl-12">// Add a file with a given name and string contents</span><br/><span class="hl-6">model</span><span class="hl-10">.</span><span class="hl-11">addFile</span><span class="hl-10">(</span><span class="hl-7">&#39;test.mzn&#39;</span><span class="hl-10">, </span><span class="hl-7">&#39;var 1..3: x; int: y;&#39;</span><span class="hl-10">);</span><br/><span class="hl-12">// If you&#39;re using NodeJS, you can add files from the filesystem directly</span><br/><span class="hl-6">model</span><span class="hl-10">.</span><span class="hl-11">addFile</span><span class="hl-10">(</span><span class="hl-7">&#39;test.mzn&#39;</span><span class="hl-10">);</span><br/><span class="hl-12">// Add model code from a string</span><br/><span class="hl-6">model</span><span class="hl-10">.</span><span class="hl-11">addString</span><span class="hl-10">(</span><span class="hl-7">&#39;int: z;&#39;</span><span class="hl-10">);</span><br/><span class="hl-12">// Add data in DZN format</span><br/><span class="hl-6">model</span><span class="hl-10">.</span><span class="hl-11">addDznString</span><span class="hl-10">(</span><span class="hl-7">&#39;y = 1;&#39;</span><span class="hl-10">);</span><br/><span class="hl-12">// Add data from a JSON object</span><br/><span class="hl-6">model</span><span class="hl-10">.</span><span class="hl-11">addJSON</span><span class="hl-10">({</span><span class="hl-6">z:</span><span class="hl-10"> </span><span class="hl-13">2</span><span class="hl-10">});</span>
</code><button type="button">Copy</button></pre>

<a id="md:solving" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Solving<a href="#md:solving" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Solving is done using the <a href="https://js.minizinc.dev/docs/develop/classes/Model.html#solve" target="_blank" class="external"><code>Model.solve(...)</code></a> method,
which takes an object with <code>options</code> in <a href="https://minizinc.dev/doc-latest/en/command_line.html#ch-param-files" target="_blank" class="external"><code>.mpc</code></a>
format.</p>
<pre><code class="js"><span class="hl-8">const</span><span class="hl-10"> </span><span class="hl-9">solve</span><span class="hl-10"> = </span><span class="hl-6">model</span><span class="hl-10">.</span><span class="hl-11">solve</span><span class="hl-10">({</span><br/><span class="hl-10">  </span><span class="hl-6">options:</span><span class="hl-10"> {</span><br/><span class="hl-10">    </span><span class="hl-6">solver:</span><span class="hl-10"> </span><span class="hl-7">&#39;gecode&#39;</span><span class="hl-10">,</span><br/><span class="hl-10">    </span><span class="hl-7">&#39;time-limit&#39;</span><span class="hl-6">:</span><span class="hl-10"> </span><span class="hl-13">10000</span><span class="hl-10">,</span><br/><span class="hl-10">    </span><span class="hl-6">statistics:</span><span class="hl-10"> </span><span class="hl-8">true</span><br/><span class="hl-10">  }</span><br/><span class="hl-10">});</span><br/><span class="hl-12">// You can listen for events</span><br/><span class="hl-6">solve</span><span class="hl-10">.</span><span class="hl-11">on</span><span class="hl-10">(</span><span class="hl-7">&#39;solution&#39;</span><span class="hl-10">, </span><span class="hl-6">solution</span><span class="hl-10"> </span><span class="hl-8">=&gt;</span><span class="hl-10"> </span><span class="hl-6">console</span><span class="hl-10">.</span><span class="hl-11">log</span><span class="hl-10">(</span><span class="hl-6">solution</span><span class="hl-10">.</span><span class="hl-6">output</span><span class="hl-10">.</span><span class="hl-6">json</span><span class="hl-10">));</span><br/><span class="hl-6">solve</span><span class="hl-10">.</span><span class="hl-11">on</span><span class="hl-10">(</span><span class="hl-7">&#39;statistics&#39;</span><span class="hl-10">, </span><span class="hl-6">stats</span><span class="hl-10"> </span><span class="hl-8">=&gt;</span><span class="hl-10"> </span><span class="hl-6">console</span><span class="hl-10">.</span><span class="hl-11">log</span><span class="hl-10">(</span><span class="hl-6">stats</span><span class="hl-10">.</span><span class="hl-6">statistics</span><span class="hl-10">));</span><br/><span class="hl-12">// And/or wait until complete</span><br/><span class="hl-6">solve</span><span class="hl-10">.</span><span class="hl-11">then</span><span class="hl-10">(</span><span class="hl-6">result</span><span class="hl-10"> </span><span class="hl-8">=&gt;</span><span class="hl-10"> {</span><br/><span class="hl-10">  </span><span class="hl-6">console</span><span class="hl-10">.</span><span class="hl-11">log</span><span class="hl-10">(</span><span class="hl-6">result</span><span class="hl-10">.</span><span class="hl-6">solution</span><span class="hl-10">.</span><span class="hl-6">output</span><span class="hl-10">.</span><span class="hl-6">json</span><span class="hl-10">);</span><br/><span class="hl-10">  </span><span class="hl-6">console</span><span class="hl-10">.</span><span class="hl-11">log</span><span class="hl-10">(</span><span class="hl-6">result</span><span class="hl-10">.</span><span class="hl-6">statistics</span><span class="hl-10">);</span><br/><span class="hl-10">});</span>
</code><button type="button">Copy</button></pre>

<p>During solving, MiniZinc emits events which can be subscribed to/unsubscribed from using the
<a href="https://js.minizinc.dev/docs/develop/interfaces/SolveProgress.html#on" target="_blank" class="external"><code>SolveProgress.on</code></a> /
<a href="https://js.minizinc.dev/docs/develop/interfaces/SolveProgress.html#off" target="_blank" class="external"><code>SolveProgress.off</code></a>
methods. The events are those which appear in
<a href="https://minizinc.dev/doc-latest/en/json-stream.html" target="_blank" class="external">Machine-readable JSON output format</a>,
with the addition of the <a href="https://js.minizinc.dev/docs/develop/interfaces/ExitMessage.html" target="_blank" class="external"><code>exit</code></a>
event, which can be used to detect when solving finishes (if you do not wish to await the
<a href="https://js.minizinc.dev/docs/develop/interfaces/SolveProgress.html" target="_blank" class="external"><code>SolveProgress</code></a> object).</p>
<p>By default, <code>--output-mode json</code> is used, allowing you to retrieve the model variable values
directly from the solution objects. Use
<a href="https://js.minizinc.dev/docs/develop/classes/Model.html#solve" target="_blank" class="external"><code>Model.solve({ jsonOutput: false, ...})</code></a>
(and optionally specify a different <code>output-mode</code> in the <code>options</code>) to disable this behaviour.</p>
<a id="md:documentation" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Documentation<a href="#md:documentation" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>For more detailed documentation of all available options and functionality, visit the
<a href="https://js.minizinc.dev/docs/develop/" target="_blank" class="external">API documentation</a>.</p>
<a id="md:building" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Building<a href="#md:building" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><a id="md:compiling-minizinc-for-webassembly" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Compiling MiniZinc for WebAssembly<a href="#md:compiling-minizinc-for-webassembly" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>The WebAssembly build of MiniZinc requires <a href="https://emscripten.org/" target="_blank" class="external">Emscripten</a>.</p>
<pre><code class="sh"><span class="hl-12"># Clone MiniZinc</span><br/><span class="hl-11">git</span><span class="hl-10"> </span><span class="hl-7">clone</span><span class="hl-10"> </span><span class="hl-7">https://github.com/MiniZinc/libminizinc</span><span class="hl-10"> </span><span class="hl-7">minizinc</span><br/><br/><span class="hl-12"># Download solvers (or you can build them yourself using emscripten)</span><br/><span class="hl-11">cd</span><span class="hl-10"> </span><span class="hl-7">minizinc</span><br/><span class="hl-6">MZNARCH</span><span class="hl-10">=</span><span class="hl-7">wasm</span><span class="hl-10"> </span><span class="hl-11">./download_vendor</span><br/><br/><span class="hl-12"># Configure MiniZinc</span><br/><span class="hl-11">emcmake</span><span class="hl-10"> </span><span class="hl-7">cmake</span><span class="hl-10"> </span><span class="hl-8">-S</span><span class="hl-10"> </span><span class="hl-7">.</span><span class="hl-10"> </span><span class="hl-8">-B</span><span class="hl-10"> </span><span class="hl-7">build</span><span class="hl-10"> </span><span class="hl-14">\</span><br/><span class="hl-10">  </span><span class="hl-8">-DCMAKE_FIND_ROOT_PATH=</span><span class="hl-7">&quot;/&quot;</span><span class="hl-10"> </span><span class="hl-14">\</span><br/><span class="hl-10">  </span><span class="hl-8">-DCMAKE_BUILD_TYPE=Release</span><span class="hl-10"> </span><span class="hl-14">\</span><br/><span class="hl-10">  </span><span class="hl-8">-DGecode_ROOT=</span><span class="hl-7">&quot;</span><span class="hl-6">$PWD</span><span class="hl-7">/vendor/gecode&quot;</span><span class="hl-10"> </span><span class="hl-14">\</span><br/><span class="hl-10">  </span><span class="hl-8">-DOsiCBC_ROOT=</span><span class="hl-7">&quot;</span><span class="hl-6">$PWD</span><span class="hl-7">/vendor/cbc&quot;</span><span class="hl-10"> </span><span class="hl-14">\</span><br/><span class="hl-10">  </span><span class="hl-8">-DCMAKE_PREFIX_PATH=</span><span class="hl-7">&quot;</span><span class="hl-6">$PWD</span><span class="hl-7">/vendor/highs/lib/cmake/highs:</span><span class="hl-6">$PWD</span><span class="hl-7">/vendor/chuffed/lib/cmake/chuffed&quot;</span><span class="hl-10"> </span><span class="hl-14">\</span><br/><span class="hl-10">  </span><span class="hl-8">-DCMAKE_INSTALL_PREFIX=</span><span class="hl-7">&quot;../minizinc-install&quot;</span><br/><br/><span class="hl-12"># Build MiniZinc</span><br/><span class="hl-11">cmake</span><span class="hl-10"> </span><span class="hl-8">--build</span><span class="hl-10"> </span><span class="hl-7">build</span><span class="hl-10"> </span><span class="hl-8">--config</span><span class="hl-10"> </span><span class="hl-7">Release</span><span class="hl-10"> </span><span class="hl-8">--target</span><span class="hl-10"> </span><span class="hl-7">install</span>
</code><button type="button">Copy</button></pre>

<p>The WebAssembly build of MiniZinc can also be obtained from the <a href="https://github.com/MiniZinc/minizinc-js/actions/workflows/build.yml" target="_blank" class="external">build workflow</a> as the <code>minizinc</code> artifact.</p>
<a id="md:building-minizinc-js" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Building MiniZinc JS<a href="#md:building-minizinc-js" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><ol>
<li>Run <code>npm install</code> to install dependencies.</li>
<li>Place the <code>bin/</code> folder of the WebAssembly build of MiniZinc inside this directory.
Alternatively set the <code>MZN_WASM_DIR</code> environment variable to the installation directory of the
WebAssembly build of MiniZinc.</li>
<li>Run <code>npm run build</code> to build the package. The built files are in the <code>dist/</code> directory.</li>
<li>Run <code>npm run docs</code> to build the documentation. The output files are in the <code>docs/</code> directory.</li>
</ol>
<a id="md:testing" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Testing<a href="#md:testing" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>When testing, the <a href="https://www.npmjs.com/package/web-worker" target="_blank" class="external"><code>web-worker</code></a> library is used to emulate Web Worker
support in NodeJS. This allows us to test both the browser version using WebAssembly, as well as the native version.</p>
<p>Run <code>npm test</code> to run tests using <a href="https://jestjs.io" target="_blank" class="external">Jest</a>.</p>
<a id="md:license" class="tsd-anchor"></a><h2 class="tsd-anchor-link">License<a href="#md:license" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>This library is distributed under the Mozilla Public License Version 2.0. See LICENSE for more information.</p>
</div></div><div class="col-sidebar"><div class="page-menu"><div class="tsd-navigation settings"><details class="tsd-accordion"><summary class="tsd-accordion-summary"><h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><use href="assets/icons.svg#icon-chevronDown"></use></svg>Settings</h3></summary><div class="tsd-accordion-details"><div class="tsd-filter-visibility"><span class="settings-label">Member Visibility</span><ul id="tsd-filter-options"><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-inherited" name="inherited" checked/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Inherited</span></label></li></ul></div><div class="tsd-theme-toggle"><label class="settings-label" for="tsd-theme">Theme</label><select id="tsd-theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></div></div></details></div><details open class="tsd-accordion tsd-page-navigation"><summary class="tsd-accordion-summary"><h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><use href="assets/icons.svg#icon-chevronDown"></use></svg>On This Page</h3></summary><div class="tsd-accordion-details"><a href="#md:javascript-interface-for-minizinc"><span>Java<wbr/>Script interface for <wbr/>Mini<wbr/>Zinc</span></a><ul><li><a href="#md:getting-started"><span>Getting started</span></a></li><li><ul><li><a href="#md:using-a-cdn-recommended"><span>Using a CDN (recommended)</span></a></li><li><a href="#md:self-hosting-webassembly-files"><span>Self-<wbr/>hosting <wbr/>Web<wbr/>Assembly files</span></a></li><li><a href="#md:in-nodejs"><span>In <wbr/>NodeJS</span></a></li></ul></li><li><a href="#md:usage"><span>Usage</span></a></li><li><ul><li><a href="#md:initialisation"><span>Initialisation</span></a></li><li><a href="#md:creating-models"><span>Creating <wbr/>Models</span></a></li><li><a href="#md:solving"><span>Solving</span></a></li></ul></li><li><a href="#md:documentation"><span>Documentation</span></a></li><li><a href="#md:building"><span>Building</span></a></li><li><ul><li><a href="#md:compiling-minizinc-for-webassembly"><span>Compiling <wbr/>Mini<wbr/>Zinc for <wbr/>Web<wbr/>Assembly</span></a></li><li><a href="#md:building-minizinc-js"><span>Building <wbr/>Mini<wbr/>Zinc JS</span></a></li></ul></li><li><a href="#md:testing"><span>Testing</span></a></li><li><a href="#md:license"><span>License</span></a></li></ul></div></details></div><div class="site-menu"><nav id="tsd-sidebar-links" class="tsd-navigation"><a href="https://minizinc.dev" class="tsd-nav-link">MiniZinc</a><a href="https://github.com/minizinc/minizinc-js" class="tsd-nav-link">GitHub</a></nav><nav class="tsd-navigation"><a href="modules.html" class="current"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="assets/icons.svg#icon-1"></use></svg><span>MiniZinc JavaScript</span></a><ul class="tsd-small-nested-navigation" id="tsd-nav-container" data-base="."><li>Loading...</li></ul></nav></div></div></div><footer><p class="tsd-generator">Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></footer><div class="overlay"></div></body></html>
